<div (click)="cardClick.emit()"
  class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm flex items-center gap-6 cursor-pointer hover:shadow-lg transition-shadow duration-200">
  
  <div class="relative h-20 w-20">
    <svg class="w-full h-full" viewBox="0 0 100 100">
      <circle class="text-gray-200 dark:text-gray-700" stroke-width="10" stroke="currentColor" fill="transparent"
        r="45" cx="50" cy="50" />
      <circle class="transform -rotate-90 origin-center transition-all duration-500"
        [ngClass]="{
          'text-black dark:text-white': color === 'black',
          'text-blue-500 dark:text-blue-400': color === 'blue',
          'text-green-500 dark:text-green-400': color === 'green'
        }" 
        stroke-width="10" [style.strokeDasharray]="circumference"
        [style.strokeDashoffset]="strokeDashoffset" stroke-linecap="round" stroke="currentColor" fill="transparent"
        r="45" cx="50" cy="50" />
    </svg>
    <div class="absolute inset-0 flex items-center justify-center">
      <lucide-icon [name]="icon" size="24" class="text-gray-700 dark:text-gray-300"></lucide-icon>
    </div>
  </div>

  <div class="flex-1">
    <p class="text-gray-500 dark:text-gray-400 text-sm font-medium">{{ title }}</p>
    <p class="text-3xl font-bold text-gray-800 dark:text-gray-100">
      {{ value | number }}
      <span class="text-lg font-medium text-gray-400">/ {{ goal | number }}</span>
    </p>
    <p class="text-sm font-semibold mt-1" 
       [ngClass]="{
         'text-blue-600': title === 'Steps' && themeService.themeSignal() === 'light',
         'text-green-500': textColor === 'green',
         'text-gray-500 dark:text-gray-400': !(title === 'Steps' && themeService.themeSignal() === 'light') && !textColor
       }">
      {{ percentage | number:'1.0-0' }}% of goal
    </p>
  </div>
</div>